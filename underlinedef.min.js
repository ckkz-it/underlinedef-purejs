"use strict";function underlineDef(a){var b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};NodeList.prototype.forEach=Array.prototype.forEach,b.words||b.definitions||console.log("Define Words and Definitions Arrays!");var c=document.querySelectorAll(a),d=Object.assign({underlineClass:"underline-definitions",tagName:"span",attr:"title",words:".*",definitions:"Words Array Isn't Defined",search:!1,preventDefault:!0},b);return c.forEach(function(a){function b(b,c){var d=new RegExp("^>*"+b+"[!?.,<()('s)s\n]*$","i");return d=d.test(c),d+(b===c)}function c(a){m&&a.preventDefault();var b,c=this.innerText.replace(/[!?\.,<>\(\)]*/,"").toLowerCase();b="google"===l?"https://www.google.ru/search?newwindow=1&q=":"wikipedia"===l?"https://wikipedia.org/w/index.php?search=":"yandex"===l?"https://yandex.ru/search/?text=":"https://www.google.ru/search?newwindow=1&q=",b+=c,window.open(b,"_blank")}var e=d.words,f=d.definitions&&".*"!==e?d.definitions:"Define Words Array",g=d.underlineClass,h=d.tagName,k=d.attr,l=d.search,m=d.preventDefault,n=a.innerHTML;if("underline-definitions"===g){var o=document.querySelector("head"),p=document.createElement("style"),q=".underline-definitions {border-bottom: 1px dashed #333; position: relative; color: #049ccf;cursor: help;} .underline-definitions:hover {border-bottom: 1px solid #333;color: inherit;}";q=document.createTextNode(q),p.appendChild(q),o.appendChild(p)}for(var r=n.split(" "),s=0;s<r.length;s++)if("string"!=typeof e){for(var t=0;t<e.length;t++)if("string"!=typeof f){if(2===b(e[t],r[s])){r[s]="<"+h+" class=\""+g+"\" "+k+"=\""+(f[t]+"\">"+r[s]+"</"+h+">");continue}else if(1===b(e[t],r[s])){r[s]="<"+h+" class=\""+g+"\" "+k+"=\""+(f[t]+"\">"+r[s].replace(/[!?\.,<>\(\)]/g,"")+"</"+h+">")+(""+r[s].replace(/\w/g,""));continue}}else if(f="Define Definitions Array",2===b(e[t],r[s])){r[s]="<"+h+" class=\""+g+"\" "+k+"=\""+(f+"\">"+r[s]+"</"+h+">");continue}else if(1===b(e[t],r[s])){r[s]="<"+h+" class=\""+g+"\" "+k+"=\""+(f+"\">"+r[s].replace(/[!?\.,<>\(\)]/g,"")+"</"+h+">")+(""+r[s].replace(/\w/g,""));continue}}else 2===b(e,r[s])?r[s]="<"+h+" class=\""+g+"\" "+k+"=\""+(f+"\">"+r[s]+"</"+h+">"):1===b(e,r[s])&&(r[s]="<"+h+" class=\""+g+"\" "+k+"=\""+(f+"\">"+r[s].replace(/[!?\.,<>\(\)]/g,"")+"</"+h+">")+(""+r[s].replace(/\w/g,"")));if(n=r.join(" "),a.innerHTML=n,l)for(var u=document.querySelectorAll("."+g),v=0;v<u.length;v++)u[v].addEventListener("click",c)})}