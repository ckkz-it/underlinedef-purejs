"use strict";function underlineDef(a,b){NodeList.prototype.forEach=Array.prototype.forEach,b||(console.log("Define Words and Definitions Arrays!"),b={});var c=document.querySelectorAll(a),d=b.words||".*",e=b.definitions&&".*"!==d?b.definitions:"Define Words Array",f=b.underlineClass||"underline-definitions",g=b.tagName||"span",h=b.attr||"title",k=b.search||!1,i=b.preventDefault||!0;return c.forEach(function(a){function b(b,c){var d=new RegExp("^>*"+b+"[!?.,<('s)s]*$","i");return d=d.test(c),d+(b===c)}function c(a){i&&a.preventDefault();var b,c=this.innerText.replace(/[!?.,<>]*/g,"").toLowerCase();b="google"===k?"https://www.google.ru/search?newwindow=1&q=":"wikipedia"===k?"https://wikipedia.org/w/index.php?search=":"yandex"===k?"https://yandex.ru/search/?text=":"https://www.google.ru/search?newwindow=1&q=",b+=c,window.open(b,"_blank")}var l=a.innerHTML;if("underline-definitions"===f){var m=document.querySelector("head"),n=document.createElement("style"),o=".underline-definitions {border-bottom: 1px dashed #333; position: relative; color: #049ccf;cursor: help;} .underline-definitions:hover {border-bottom: 1px solid #333;color: inherit;}";o=document.createTextNode(o),n.appendChild(o),m.appendChild(n)}for(var p=l.split(" "),q=0;q<p.length;q++)if("string"!=typeof d){for(var r=0;r<d.length;r++)if("string"!=typeof e){if(2===b(d[r],p[q])){p[q]="<"+g+" class=\""+f+"\" "+h+"=\""+(e[r]+"\">"+p[q]+"</"+g+">");continue}else if(1===b(d[r],p[q])){p[q]="<"+g+" class=\""+f+"\" "+h+"=\""+(e[r]+"\">"+p[q].replace(/[!?.,<>]/g,"")+"</"+g+">")+(""+p[q].replace(/\w/g,""));continue}}else if(e="Define Definitions Array",2===b(d[r],p[q])){p[q]="<"+g+" class=\""+f+"\" "+h+"=\""+(e+"\">"+p[q]+"</"+g+">");continue}else if(1===b(d[r],p[q])){p[q]="<"+g+" class=\""+f+"\" "+h+"=\""+(e+"\">"+p[q].replace(/[!?.,<>]*/g,"")+"</"+g+">")+(""+p[q].replace(/\w/g,""));continue}}else 2===b(d,p[q])?p[q]="<"+g+" class=\""+f+"\" "+h+"=\""+(e+"\">"+p[q]+"</"+g+">"):1===b(d,p[q])&&(p[q]="<"+g+" class=\""+f+"\" "+h+"=\""+(e+"\">"+p[q].replace(/[!?.,<>]*/g,"")+"</"+g+">")+(""+p[q].replace(/\w/g,"")));if(l=p.join(" "),a.innerHTML=l,k)for(var s=document.querySelectorAll("."+f),t=0;t<s.length;t++)s[t].addEventListener("click",c)})}